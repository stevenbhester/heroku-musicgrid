name: Make secrets accessible to code

on: [push, pull_request]

jobs:
  build:
    name: Secrets
    runs-on: ubuntu-latest
    
    steps:
          - name: Git checkout
            uses: actions/checkout@v2
    
          - name: Set up Node.js
            uses: actions/setup-node@v2
            with:
              node-version: '14'
    
          - name: Expose secret
            run: server.js
            env:
              CLIENT_SECRET: ${{ secrets.SPOTIFY_CLIENT_SECRET }}
